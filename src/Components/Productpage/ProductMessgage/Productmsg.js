import React from "react";

import { MuiTelInput } from "mui-tel-input";
import { useParams } from "react-router-dom";
import axios from "axios";
import toast, { Toaster } from "react-hot-toast";
import "./Productmsg.css";
import IconButton from "@mui/material/IconButton";
import Tooltip from "@mui/material/Tooltip";

export const Productmsg = () => {
  const notify = () => toast.success("Message sent successfully");
  const notify1 = () =>
    toast("Message sent already", {
      icon: "ðŸ‘",
    });
  const backendUrl = "http://3.88.157.171:8080";
  const [value, setValue] = React.useState("+91");

  const { type } = useParams();
  console.log(type);

  const [product, setproduct] = React.useState({
    name: "",
    contact: "+91",
    productName: type,
    email: "raghavjindal0212@gmail.com",
  });

  const handleChange = (newValue) => {
    setValue(newValue);
    setproduct({ ...product, contact: newValue });
  };

  const handleSubmit = async () => {
    if (product.name == "") {
      toast.error("Enter name");
      return;
    }

    if (product.contact == "+91") {
      toast.error("Enter Phone number");
      return;
    }
    const result = await axios.post(`${backendUrl}/product`, {
      from: "raghavjindal0212@gmail.com",
      to: "design@tinarosario.com",
      subject: `Product Enquiry Mail from ${product.name} - ${product.email} `,
      text: `Sender's Data -${product.name} \n${product.email} \nSender product - ${product.contact} \n\n Dress: \n ${product.productName}`,
      name: product.name,
      contact: product.contact,
      productName: product.productName,
      email: product.email,
    });
    console.log(result);

    if (result.data) {
      console.log("hii");
      notify();
      setproduct({
        name: "",
        contact: "+91",
        productName: type,
        email: "ragh.20fit34@gct.ac.in",
      });
    }
  };

  return (
    <div className="productmsgpage">
      <Toaster />
      <div className="productmsgcont">
        <span className="prodmsgt1">Thank you for your Interest</span>
        <span className="prodmsgt2">You have a great taste! </span>
        <span className="prodmsgt3">Enter your details, we will get in touch with you</span>
        <div className="input1">
          <span>Name</span>
          <input
            style={{ paddingLeft: "10px" }}
            onChange={(e) => setproduct({ ...product, name: e.target.value })}
            value={product.name}
            type="text"
          />
        </div>
        <div className="input2">
          <span style={{ alignContent: "left", alignSelf: "flex-start" }}>Contact</span>
          <MuiTelInput
            style={{
              border: "none",
              color: "#FFB8BC",
              "&:input": { color: "#FFB8BC" },
            }}
            className="input2inner2"
            value={product.contact}
            onChange={handleChange}
          />

          {/* <div className="input2inner">
            <input type="text" className="input2inner1" />
            <input type="text" className="input2inner2" />
          </div> */}
        </div>
        <button onClick={handleSubmit} className="prodmsgsumbitbtn">
          Submit
        </button>
        <span className="prodmsgtext3">Or Contact Via</span>
        <div className="prodmsgsocial">
          <Tooltip title="917200060540">
            <svg width="41" height="41" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="20.8865" cy="20.8875" r="20.1131" fill="#4C2A76" />
              <path
                d="M23.5286 25.6064C23.9357 25.6861 24.286 25.4986 24.6088 25.1396C24.9907 24.7158 25.4145 24.3219 25.8577 23.9618C26.5005 23.4394 26.9552 23.4875 27.5366 24.0701C28.5354 25.0714 29.536 26.0709 30.5325 27.0738C31.0377 27.5824 31.0755 28.0142 30.6518 28.6003C30.4735 28.8469 30.2705 29.0785 30.0583 29.2964C29.5119 29.8578 28.9356 30.3911 28.4041 30.9663C27.6444 31.7886 26.712 31.9836 25.6616 31.792C24.2849 31.5414 23.0693 30.9015 21.9116 30.1549C18.8377 28.1719 16.1439 25.7612 13.8406 22.9152C12.7271 21.5396 11.6766 20.1238 10.863 18.5451C10.3928 17.6339 10.0075 16.6935 9.92721 15.6555C9.86357 14.835 10.066 14.105 10.6692 13.5143C11.406 12.7924 12.1416 12.0693 12.8796 11.3485C12.9541 11.2756 13.0401 11.2131 13.1244 11.1506C13.738 10.697 14.1846 10.7257 14.7202 11.2596C15.7225 12.2574 16.723 13.2563 17.7224 14.2564C18.2763 14.8103 18.336 15.257 17.844 15.866C17.4191 16.3918 16.934 16.8701 16.4547 17.3489C16.2557 17.5473 16.176 17.7612 16.1617 18.0313C16.0934 19.3089 16.535 20.4317 17.2362 21.4587C18.3543 23.0964 19.7551 24.4222 21.598 25.2239C22.1869 25.4797 22.805 25.6333 23.5286 25.6064Z"
                fill="#FFB8BC"
              />
              <path
                d="M29.6898 20.575C29.1376 20.575 29.1376 20.575 29.0929 20.0113C28.8021 16.3849 26.2609 13.5251 22.672 12.802C22.281 12.7235 21.8773 12.6896 21.4777 12.6765C21.2426 12.669 21.1749 12.5881 21.1933 12.3725C21.2053 12.2303 21.1956 12.0858 21.1956 11.9425C21.1956 11.4774 21.1961 11.4734 21.6726 11.5021C26.1141 11.767 29.3904 15.0109 30.094 18.8191C30.18 19.2865 30.207 19.7641 30.2706 20.2355C30.309 20.5205 30.188 20.6162 29.9185 20.5767C29.844 20.5658 29.766 20.575 29.6898 20.575Z"
                fill="#FFB8BC"
              />
              <path
                d="M21.2139 15.9628C21.2139 15.6428 21.2139 15.2844 21.2139 14.8389C21.7322 14.926 22.2374 14.957 22.7087 15.0986C24.9919 15.7862 26.3486 17.3304 26.817 19.6603C26.8635 19.892 26.8629 20.1334 26.8864 20.3702C26.9007 20.5165 26.8405 20.579 26.6915 20.5755C26.4432 20.5698 26.1949 20.5681 25.9472 20.5761C25.7735 20.5818 25.7253 20.5067 25.7121 20.3387C25.5636 18.4659 24.6301 17.1303 22.9054 16.3952C22.3893 16.1761 21.8073 16.1102 21.2139 15.9628Z"
                fill="#FFB8BC"
              />
              <path
                d="M21.2009 19.4144C21.2009 19.0737 21.194 18.7429 21.2083 18.412C21.2106 18.3644 21.3184 18.2778 21.3717 18.2824C22.5609 18.3764 23.4285 19.2853 23.4973 20.4592C23.499 20.4844 23.4812 20.5113 23.4663 20.5544C23.1017 20.5544 22.7347 20.5544 22.3545 20.5544C22.2691 19.884 21.8918 19.5044 21.2009 19.4144Z"
                fill="#FFB8BC"
              />
            </svg>
          </Tooltip>

          <a target="_blank" href="https://api.whatsapp.com/send?phone=917200060540">
            <svg width="37" height="36" viewBox="0 0 37 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="18.6603" cy="17.8869" r="17.8869" fill="#4C2A76" />
              <g clip-path="url(#clip0_1114_11338)">
                <path
                  d="M6.46484 30.0865C6.61138 29.5302 6.7413 29.0229 6.87894 28.5185C7.28473 27.0366 7.69882 25.557 8.09452 24.0722C8.1319 23.9312 8.10639 23.7389 8.03579 23.6097C6.90919 21.5496 6.41679 19.3427 6.57163 17.0125C6.92106 11.7686 10.5969 7.35829 15.6995 6.0982C19.6476 5.12245 23.2719 5.91886 26.4369 8.48977C28.5483 10.2047 29.9347 12.4034 30.5268 15.0681C31.3841 18.9262 30.566 22.4133 28.0755 25.4774C26.2144 27.7675 23.7803 29.1751 20.8668 29.7025C18.1283 30.198 15.5126 29.7756 13.0352 28.5055C12.9302 28.4518 12.7706 28.4536 12.6507 28.4843C10.6705 28.9969 8.69253 29.5184 6.71401 30.0369C6.65825 30.0523 6.59951 30.06 6.46484 30.0865ZM9.35817 27.2265C10.5459 26.9162 11.6879 26.6242 12.8252 26.3151C13.0702 26.2484 13.2618 26.2697 13.4861 26.4018C15.7043 27.705 18.0844 28.1409 20.62 27.656C23.1965 27.1634 25.2705 25.8508 26.8231 23.7583C28.505 21.4912 29.0769 18.9427 28.6391 16.1648C28.2908 13.9543 27.2864 12.0754 25.6615 10.5451C23.1953 8.22312 20.2445 7.36183 16.9127 7.91105C14.5527 8.29981 12.5766 9.45077 11.0246 11.2666C9.11078 13.5059 8.32234 16.1099 8.65634 19.0271C8.83491 20.588 9.38842 22.0287 10.254 23.3495C10.3175 23.4457 10.3347 23.6091 10.3044 23.7229C10.0024 24.8762 9.68564 26.026 9.35817 27.2265Z"
                  fill="#FFB8BC"
                />
                <path
                  d="M21.8922 23.6146C21.0302 23.6264 20.2524 23.3043 19.4705 23.0081C17.2838 22.1793 15.628 20.6803 14.2303 18.8662C13.5634 18.0008 12.9281 17.11 12.6611 16.0251C12.3312 14.6854 12.6469 13.5185 13.6376 12.5445C13.9704 12.2171 14.9113 12.0496 15.3064 12.2726C15.4476 12.3522 15.5681 12.518 15.6345 12.6714C15.9732 13.4536 16.3031 14.2406 16.6057 15.037C16.6662 15.1963 16.6543 15.4381 16.5724 15.585C16.4022 15.8906 16.1767 16.1697 15.9489 16.4393C15.6167 16.8322 15.6013 17.1448 15.927 17.5466C16.1803 17.8586 16.4247 18.1772 16.6834 18.4845C17.4149 19.3541 18.3042 20.0219 19.3311 20.5104C19.5269 20.6036 19.7298 20.6814 19.9244 20.7764C20.186 20.9038 20.3936 20.8555 20.5746 20.6254C20.8724 20.2461 21.1856 19.8791 21.4834 19.4992C21.643 19.2957 21.8186 19.2066 22.0714 19.3258C22.9345 19.7317 23.8019 20.1269 24.6609 20.541C24.9214 20.6667 24.9018 20.9286 24.8668 21.1646C24.6508 22.6217 23.7082 23.4824 22.2173 23.5922C22.1087 23.5992 22.0008 23.6069 21.8922 23.6146Z"
                  fill="#FFB8BC"
                />
                <g clip-path="url(#clip1_1114_11338)">
                  <path
                    d="M48.8225 59.2667C52.7583 60.0373 56.1454 58.2246 59.2664 54.7543C62.9583 50.6577 67.0549 46.8494 71.34 43.3681C77.5542 38.318 81.9502 38.7836 87.5713 44.4158C97.228 54.0947 106.901 63.7569 116.536 73.4524C121.42 78.3695 121.786 82.5437 117.689 88.2091C115.965 90.5928 114.003 92.8324 111.951 94.9389C106.669 100.366 101.097 105.521 95.9585 111.081C88.6134 119.031 79.5998 120.916 69.4442 119.064C56.1343 116.642 44.3822 110.455 33.1899 103.237C3.47143 84.0682 -22.5718 60.7635 -44.8398 33.2513C-55.6052 19.9525 -65.7609 6.2657 -73.627 -8.99545C-78.1727 -17.804 -81.8979 -26.8953 -82.674 -36.9289C-83.2893 -44.8616 -81.3324 -51.9185 -75.5007 -57.6282C-68.3774 -64.6074 -61.2651 -71.5977 -54.1307 -78.5659C-53.41 -79.2699 -52.5785 -79.8741 -51.7636 -80.4784C-45.8321 -84.8633 -41.5138 -84.5861 -36.3362 -79.4251C-26.6462 -69.7795 -16.9729 -60.1228 -7.31061 -50.455C-1.95563 -45.1 -1.3791 -40.7817 -6.13539 -34.8945C-10.2431 -29.8111 -14.9329 -25.1879 -19.5672 -20.5591C-21.4908 -18.6411 -22.2613 -16.5734 -22.3999 -13.9624C-23.0596 -1.61156 -18.7911 9.24254 -12.0115 19.1709C-1.20171 35.003 12.341 47.8195 30.1577 55.5692C35.8508 58.0416 41.8266 59.5273 48.8225 59.2667Z"
                    fill="black"
                  />
                  <path
                    d="M108.398 10.6175C103.06 10.6175 103.06 10.6175 102.627 5.1683C99.8168 -29.8885 75.2481 -57.5338 40.5516 -64.5241C36.771 -65.2835 32.8684 -65.6106 29.0046 -65.7381C26.7318 -65.8102 26.0776 -66.5918 26.255 -68.6761C26.3714 -70.0509 26.2772 -71.4479 26.2772 -72.8337C26.2772 -77.3295 26.2827 -77.3683 30.8894 -77.0911C73.829 -74.53 105.504 -43.1707 112.306 -6.35655C113.138 -1.83863 113.398 2.77908 114.014 7.3358C114.385 10.0909 113.215 11.0167 110.61 10.6342C109.889 10.5288 109.135 10.6175 108.398 10.6175Z"
                    fill="black"
                  />
                  <path
                    d="M26.4434 -33.9747C26.4434 -37.0679 26.4434 -40.5326 26.4434 -44.8398C31.4546 -43.9972 36.3384 -43.6979 40.8952 -42.3287C62.9692 -35.682 76.0851 -20.7535 80.6141 1.76958C81.0631 4.00914 81.0575 6.34293 81.2848 8.63238C81.4234 10.046 80.8413 10.6502 79.4 10.6169C76.9997 10.5615 74.5994 10.5449 72.2046 10.6225C70.525 10.6779 70.0593 9.95173 69.9318 8.3275C68.4961 -9.77745 59.4713 -22.6882 42.7966 -29.7949C37.8075 -31.9125 32.1808 -32.55 26.4434 -33.9747Z"
                    fill="black"
                  />
                  <path
                    d="M26.3167 -0.590676C26.3167 -3.88349 26.2502 -7.08207 26.3888 -10.2806C26.411 -10.7408 27.4531 -11.5778 27.9687 -11.5335C39.4658 -10.6243 47.8531 -1.83795 48.5183 9.50951C48.5349 9.75342 48.3631 10.014 48.219 10.4297C44.6933 10.4297 41.1455 10.4297 37.4702 10.4297C36.6442 3.94942 32.9966 0.279647 26.3167 -0.590676Z"
                    fill="black"
                  />
                </g>
              </g>
              <defs>
                <clipPath id="clip0_1114_11338">
                  <rect width="24.3912" height="24.3912" fill="white" transform="translate(6.46484 5.69531)" />
                </clipPath>
                <clipPath id="clip1_1114_11338">
                  <rect width="203.29" height="203.273" fill="white" transform="translate(-82.7852 -83.5527)" />
                </clipPath>
              </defs>
            </svg>
          </a>
        </div>
      </div>
    </div>
  );
};
